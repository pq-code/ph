"use strict";const e=require("../../../../common/vendor.js"),t=require("./props.js"),n=require("../../libs/mixin/mpMixin.js"),i=require("../../libs/mixin/mixin.js"),a={name:"u-textarea",mixins:[n.mpMixin,i.mixin,t.props],data:()=>({innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}),created(){},watch:{modelValue:{immediate:!0,handler(e,t){this.innerValue=e,this.firstChange=!1,this.changeFromInner=!1}}},computed:{textareaClass(){let e=[],{border:t,disabled:n}=this;return"surround"===t&&(e=e.concat(["u-border","u-textarea--radius"])),"bottom"===t&&(e=e.concat(["u-border-bottom","u-textarea--no-radius"])),n&&e.push("u-textarea--disabled"),e.join(" ")},textareaStyle(){return e.index.$u.deepMerge({},e.index.$u.addStyle(this.customStyle))}},emits:["update:modelValue","linechange","focus","blur","change","confirm","keyboardheightchange"],methods:{setFormatter(e){this.innerFormatter=e},onFocus(e){this.$emit("focus",e)},onBlur(t){this.$emit("blur",t),e.index.$u.formValidate(this,"blur")},onLinechange(e){this.$emit("linechange",e)},onInput(e){let{value:t=""}=e.detail||{};const n=(this.formatter||this.innerFormatter)(t);this.innerValue=t,this.$nextTick((()=>{this.innerValue=n,this.valueChange()}))},valueChange(){const t=this.innerValue;this.$nextTick((()=>{this.$emit("update:modelValue",t),this.changeFromInner=!0,this.$emit("change",t),e.index.$u.formValidate(this,"change")}))},onConfirm(e){this.$emit("confirm",e)},onKeyboardheightchange(e){this.$emit("keyboardheightchange",e)}}};const r=e._export_sfc(a,[["render",function(t,n,i,a,r,o){return e.e({a:r.innerValue,b:t.$u.addUnit(t.height),c:t.placeholder,d:t.$u.addStyle(t.placeholderStyle,"string"),e:t.placeholderClass,f:t.disabled,g:t.focus,h:t.autoHeight,i:t.fixed,j:t.cursorSpacing,k:t.cursor,l:t.showConfirmBar,m:t.selectionStart,n:t.selectionEnd,o:t.adjustPosition,p:t.disableDefaultPadding,q:t.holdKeyboard,r:t.maxlength,s:t.confirmType,t:t.ignoreCompositionEvent,v:e.o(((...e)=>o.onFocus&&o.onFocus(...e))),w:e.o(((...e)=>o.onBlur&&o.onBlur(...e))),x:e.o(((...e)=>o.onLinechange&&o.onLinechange(...e))),y:e.o(((...e)=>o.onInput&&o.onInput(...e))),z:e.o(((...e)=>o.onConfirm&&o.onConfirm(...e))),A:e.o(((...e)=>o.onKeyboardheightchange&&o.onKeyboardheightchange(...e))),B:t.count},t.count?{C:e.t(r.innerValue.length),D:e.t(t.maxlength),E:t.disabled?"transparent":"#fff"}:{},{F:e.n(o.textareaClass),G:e.s(o.textareaStyle)})}],["__scopeId","data-v-cd2d7faf"]]);wx.createComponent(r);
