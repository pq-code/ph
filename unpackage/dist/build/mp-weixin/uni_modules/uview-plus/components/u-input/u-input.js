"use strict";const e=require("../../../../common/vendor.js"),i=require("./props.js"),n=require("../../libs/mixin/mpMixin.js"),t=require("../../libs/mixin/mixin.js"),o={name:"u-input",mixins:[n.mpMixin,t.mixin,i.props],data:()=>({innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}),watch:{modelValue:{immediate:!0,handler(e,i){this.innerValue=e,this.firstChange=!1,this.changeFromInner=!1}}},computed:{isShowClear(){const{clearable:e,readonly:i,focused:n,innerValue:t}=this;return!!e&&!i&&!!n&&""!==t},inputClass(){let e=[],{border:i,disabled:n,shape:t}=this;return"surround"===i&&(e=e.concat(["u-border","u-input--radius"])),e.push(`u-input--${t}`),"bottom"===i&&(e=e.concat(["u-border-bottom","u-input--no-radius"])),e.join(" ")},wrapperStyle(){const i={};return this.disabled&&(i.backgroundColor=this.disabledColor),"none"===this.border?i.padding="0":(i.paddingTop="6px",i.paddingBottom="6px",i.paddingLeft="9px",i.paddingRight="9px"),e.index.$u.deepMerge(i,e.index.$u.addStyle(this.customStyle))},inputStyle(){return{color:this.color,fontSize:e.index.$u.addUnit(this.fontSize),textAlign:this.inputAlign}}},emits:["update:modelValue","focus","blur","change","confirm","clear","keyboardheightchange"],methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:i=""}=e.detail||{};const n=(this.formatter||this.innerFormatter)(i);this.innerValue=i,this.$nextTick((()=>{this.innerValue=n,this.valueChange()}))},onBlur(i){this.$emit("blur",i.detail.value),e.index.$u.sleep(50).then((()=>{this.focused=!1})),e.index.$u.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(){this.$emit("keyboardheightchange")},valueChange(){const i=this.innerValue;this.$nextTick((()=>{this.$emit("update:modelValue",i),this.changeFromInner=!0,this.$emit("change",i),e.index.$u.formValidate(this,"change")}))},onClear(){this.innerValue="",this.$nextTick((()=>{this.valueChange(),this.$emit("clear")}))},clickHandler(){}}};if(!Array){e.resolveComponent("u-icon")()}Math;const r=e._export_sfc(o,[["render",function(i,n,t,o,r,s){return e.e({a:i.prefixIcon||i.$slots.prefix},i.prefixIcon||i.$slots.prefix?{b:e.p({name:i.prefixIcon,size:"18",customStyle:i.prefixIconStyle})}:{},{c:e.s(s.inputStyle),d:i.type,e:i.focus,f:i.cursor,g:r.innerValue,h:i.autoBlur,i:i.disabled||i.readonly,j:i.maxlength,k:i.placeholder,l:i.placeholderStyle,m:i.placeholderClass,n:i.confirmType,o:i.confirmHold,p:i.holdKeyboard,q:i.cursorSpacing,r:i.adjustPosition,s:i.selectionEnd,t:i.selectionStart,v:i.password||"password"===i.type||void 0,w:i.ignoreCompositionEvent,x:e.o(((...e)=>s.onInput&&s.onInput(...e))),y:e.o(((...e)=>s.onBlur&&s.onBlur(...e))),z:e.o(((...e)=>s.onFocus&&s.onFocus(...e))),A:e.o(((...e)=>s.onConfirm&&s.onConfirm(...e))),B:e.o(((...e)=>s.onkeyboardheightchange&&s.onkeyboardheightchange(...e))),C:e.o(((...e)=>s.clickHandler&&s.clickHandler(...e))),D:s.isShowClear},s.isShowClear?{E:e.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),F:e.o(((...e)=>s.onClear&&s.onClear(...e)))}:{},{G:i.suffixIcon||i.$slots.suffix},i.suffixIcon||i.$slots.suffix?{H:e.p({name:i.suffixIcon,size:"18",customStyle:i.suffixIconStyle})}:{},{I:e.n(s.inputClass),J:e.s(s.wrapperStyle)})}],["__scopeId","data-v-380be782"]]);wx.createComponent(r);
