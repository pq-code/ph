"use strict";const e=require("../../../../../common/vendor.js");if(!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-switch")+e.resolveComponent("u-slider")+e.resolveComponent("u-datetime-picker")+e.resolveComponent("u-textarea")+e.resolveComponent("u-button")+e.resolveComponent("u-form-item")+e.resolveComponent("u-form"))()}Math||((()=>"../../../../../uni_modules/uview-plus/components/u-input/u-input.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-switch/u-switch.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-slider/u-slider.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-datetime-picker/u-datetime-picker.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-textarea/u-textarea.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-button/u-button.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-form-item/u-form-item.js")+(()=>"../../../../../uni_modules/uview-plus/components/u-form/u-form.js")+l)();const l=()=>"./MapDisplay.js",d={__name:"WatermarkForm",props:{modelValue:{type:Object,required:!0},fields:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["dataChanged","update:modelValue"],setup(l,{emit:d}){const o=l,u=e.ref(!1),a=d,t=e.ref(!1),i=e.ref(e.dayjs().valueOf()),m=e.ref([{latitude:39.90923,longitude:116.397428,title:"当前位置"}]),s=()=>{console.log("modelValue",o.modelValue),a("update:modelValue",o.modelValue)},c=e=>{u.value=!1,a("update:modelValue",{...o.modelValue,longitude:Number(e.longitude).toFixed(6),latitude:Number(e.latitude).toFixed(6),address:e.address})},n=()=>{e.index.chooseLocation({success:e=>{console.log("chooseLocation",e),a("update:modelValue",{...o.modelValue,longitude:Number(e.longitude).toFixed(6),latitude:Number(e.latitude).toFixed(6),address:e.address})}})};return(d,p)=>e.e({a:e.f(l.fields,((d,u,m)=>e.e({a:"dinwei"===d.type},"dinwei"===d.type?{b:e.o(n,d.field),c:e.o(s,d.field),d:"5a1c2c2d-2-"+m+",5a1c2c2d-1-"+m,e:e.o((e=>l.modelValue[d.field]=e),d.field),f:e.p({placeholder:d.placeholder,suffixIcon:d.suffixIcon,suffixIconStyle:d.suffixIconStyle,customStyle:{zIndex:"0"},modelValue:l.modelValue[d.field]})}:{},{g:"switch"===d.type},"switch"===d.type?{h:e.o(s,d.field),i:"5a1c2c2d-3-"+m+",5a1c2c2d-1-"+m,j:e.o((e=>l.modelValue[d.field]=e),d.field),k:e.p({modelValue:l.modelValue[d.field]})}:{},{l:"slider"===d.type},"slider"===d.type?{m:e.o((e=>((e,l)=>{a("update:modelValue",{...o.modelValue,[l]:e})})(e,d.field)),d.field),n:"5a1c2c2d-4-"+m+",5a1c2c2d-1-"+m,o:e.o((e=>l.modelValue[d.field]=e),d.field),p:e.p({min:d.min,max:d.max,step:d.step||1,activeColor:"#007AFF",modelValue:l.modelValue[d.field]}),q:e.t(`${l.modelValue[d.field]||0}${d.unit}`)}:{},{r:"input"===d.type},"input"===d.type?{s:e.o(s,d.field),t:"5a1c2c2d-5-"+m+",5a1c2c2d-1-"+m,v:e.o((e=>l.modelValue[d.field]=e),d.field),w:e.p({placeholder:d.placeholder,customStyle:{zIndex:"0"},modelValue:l.modelValue[d.field]})}:"datetime"===d.type?{y:e.o((e=>t.value=!0),d.field),z:"5a1c2c2d-6-"+m+",5a1c2c2d-1-"+m,A:e.o((e=>l.modelValue[d.field]=e),d.field),B:e.p({placeholder:d.placeholder,clearable:!1,"right-icon":"calendar",customStyle:{zIndex:"0"},modelValue:l.modelValue[d.field]}),C:e.o((l=>{((l,d)=>{const u=e.dayjs(l.value).format("YYYY-MM-DD HH:mm:ss"),m={...o.modelValue,[d]:u};i.value=u,a("update:modelValue",m),t.value=!1})(l,d.field)}),d.field),D:e.o((e=>t.value=!1),d.field),E:"5a1c2c2d-7-"+m+",5a1c2c2d-1-"+m,F:e.o((e=>i.value=e),d.field),G:e.p({show:t.value,mode:"datetime",format:"YYYY-MM-DD HH:mm:ss",defaultValue:e.unref(e.dayjs)().valueOf(),closeOnClickOverlay:!1,modelValue:i.value})}:"textarea"===d.type?{I:e.o(s,d.field),J:"5a1c2c2d-8-"+m+",5a1c2c2d-1-"+m,K:e.o((e=>l.modelValue[d.field]=e),d.field),L:e.p({placeholder:d.placeholder,maxlength:d.maxlength,modelValue:l.modelValue[d.field]})}:{},{x:"datetime"===d.type,H:"textarea"===d.type,M:"button"===d.type},"button"===d.type?{N:e.o(s,d.field),O:"5a1c2c2d-9-"+m+",5a1c2c2d-1-"+m,P:e.p({placeholder:d.placeholder})}:{},{Q:d.field,R:"5a1c2c2d-1-"+m+",5a1c2c2d-0",S:e.p({label:d.label,required:d.required})}))),b:e.sr("form1","5a1c2c2d-0"),c:e.p({labelWidth:"100",labelPosition:"left",labelAlign:"left",model:l.modelValue,disabled:l.disabled}),d:u.value},u.value?{e:e.o(c),f:e.p({latitude:d.latitude,longitude:d.longitude,markers:m.value})}:{})}},o=e._export_sfc(d,[["__scopeId","data-v-5a1c2c2d"]]);wx.createComponent(o);
