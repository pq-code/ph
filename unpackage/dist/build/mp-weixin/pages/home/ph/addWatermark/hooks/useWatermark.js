"use strict";const e=require("../../../../../common/vendor.js");exports.useWatermark=a=>({addWatermark:async({image:t,style:r,info:o})=>{if(null==t?void 0:t.path)try{const r=e.index.createCanvasContext(a);r.clearRect(0,0,t.canvasWidth,t.canvasHeight),r.drawImage(t.path,t.x,t.y,t.drawWidth,t.drawHeight),await new Promise((e=>r.draw(!1,e)))}catch(n){console.error("绘制失败:",n),e.index.showToast({title:"绘制失败",icon:"none"})}else console.error("无效的图片路径")}});
