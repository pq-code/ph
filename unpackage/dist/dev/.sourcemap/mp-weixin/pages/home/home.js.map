{"version":3,"file":"home.js","sources":["pages/home/home.vue","pages/home/home.vue?type=page"],"sourcesContent":["<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from \"vue\";\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonPullDownRefresh,\r\n\t\tonShow\r\n\t} from \"@dcloudio/uni-app\";\r\n\timport {\r\n\t\tgetSetting,\r\n\t\tgetLoginFn\r\n\t} from \"@/utils/index.js\";\r\n\timport {\r\n\t\tgetUsedCarList\r\n\t} from \"@/api/apis/usedCar.js\";\r\n\timport dayjs from \"dayjs\";\r\n\t\r\n\tconst nowKey = 'bf108d402c7e471b90e9f0323364ee3a'\r\n\tconst value1 = ref(0);\r\n\tconst keyword = ref(\"\");\r\n\tconst weather = ref({\r\n\t\ttitle:'',\r\n\t\ticon:''\r\n\t}); // 天气信息\r\n\r\n\tconst uerInfo = ref({\r\n\t\tuserNickname: ''\r\n\t}); // 用户信息\r\n\tconst userProfilePhoto = ref(''); // 用户头像\r\n\tconst navbarHeight = ref();\r\n\r\n\tconst status = ref(\"loadmore\");\r\n\tconst iconType = ref(\"flower\");\r\n\tconst loadText = ref(\"暂无数据点击加载更多\");\r\n\r\n\tconst imageList = ref([]);\r\n\r\n\tlet sizeType = [\r\n\t\t// {name: '二寸',tips:'35*49mm | 413*579px', router: ''},\r\n\t\t// {name: '小一寸',tips:'22*32mm | 260*378px', router: ''},\r\n\t\t// {name: '国考（小二寸）',tips:'35*45mm | 413*531px', router: ''},\r\n\t\t// {name: '国家公务员（小二寸）',tips:'35*45mm | 413*531px', router: ''},\r\n\t\t// {name: '全国计算机等级考试',tips:'33*48mm | 390*567px', router: ''},\r\n\t\t// {name: '测试1123',tips:'35*49mm | 413*579px', router: ''},\r\n\t\t// {name: '测试1123',tips:'22*32mm | 260*378px', router: ''},\r\n\t\t// {name: '测试1123',tips:'35*45mm | 413*531px', router: ''},\r\n\t];\r\n\r\n\t// 获取天气\r\n\tconst getWeather = () => {\r\n\t\tlet weatherS = {\r\n\t\t\t'晴': 'https://a.hecdn.net/img/common/icon/202106d/100.png',\r\n\t\t\t'多云': 'icon-tianqi-duoyun',\r\n\t\t\t'下雨': 'icon-tianqi-xiayu',\r\n\t\t}\r\n\t\t if (!uni.getStorageSync(\"weather\")) {\r\n\t\t\tuni.request({\r\n\t\t\t\turl: `https://devapi.qweather.com/v7/weather/now?location=101210101&key=${nowKey}`,\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif(res.data.code == 200) {\r\n\t\t\t\t\t\tconst { now } = res.data;\r\n\t\t\t\t\t\tweather.value = {\r\n\t\t\t\t\t\ttitle: `${now.text} ${now.temp} ${now.windDir}`,\r\n\t\t\t\t\t\ticon: weatherS[now.tex],\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tuni.setStorageSync(\"weather\",res);\r\n\t\t\t\t\t\tconsole.log(\"天气信息\", weather.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t  \r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t  // this.openmsg(\"警告\", \"天气接口获取失败\");\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {},\r\n\t\t\t  });\r\n\t\t} else {\r\n\t\t    let res = uni.getStorageSync(\"weather\");\r\n\t\t\tconst { now } = res.data\r\n\t\t\tweather.value = {\r\n\t\t\t\ttitle: `${now.text} ${now.temp} ${now.windDir}`,\r\n\t\t\t\ticon: weatherS[now.tex],\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst init = () => {\r\n\t\tuni.getProvider({\r\n\t\t  service: 'oauth',\r\n\t\t  success: function (res) {\r\n\t\t    console.log('provider',res.provider)// ['qq', 'univerify']\r\n\t\t  }\r\n\t\t});\r\n\t\tuerInfo.value = uni.getStorageSync(\"userInfo\");\r\n\t\tuserProfilePhoto.value = uerInfo.value?.userProfilePhoto;\r\n\r\n\t\t// getUserInfo() // 登录\r\n\t\tgetWeather(); // 获取天气\r\n\t};\r\n\r\n\t// const onpen = (item) => {\r\n\t//   uni.navigateTo({\r\n\t//     url: `listDetails?projectId${item.projectId}`,\r\n\t//   });\r\n\t// };\r\n\r\n\tonPullDownRefresh(() => {\r\n\t\tconsole.log(\"下拉刷新\");\r\n\t});\r\n\r\n\tonLoad(() => {\r\n\t\tinit()\r\n\t});\r\n\r\n\tconst getUserInfo = () => {\r\n\t\tgetLoginFn().then((res) => {\r\n\t\t\tuerInfo.value = uni.getStorageSync(\"userInfo\");\r\n\t\t\tuserProfilePhoto.value = uerInfo.value?.userProfilePhoto;\r\n\t\t\tconsole.log(userProfilePhoto.value )\r\n\t\t});\r\n\t}\r\n\r\n\tconst onPageScroll = (e) => {};\r\n\tconst tabsClick = (item) => {\r\n\t\tconsole.log(\"item\", item);\r\n\t};\r\n\r\n\t// 加载前值为loadmore，加载中为loading，没有数据为nomore\r\n\tconst onReachBottom = () => {\r\n\t\tstatus.value = \"loading\";\r\n\t};\r\n\r\n\t// 页面跳转\r\n\tconst pageJump = (url) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: url,\r\n\t\t});\r\n\t};\r\n\tconst handleTabbarItemClick = () => {\r\n\t\tuni.switchTab({\r\n\t\t  url: '/pages/user/home',\r\n\t\t});\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"content-heard\">\r\n\t\t\t<view class=\"content-heard-profile\" @click=\"handleTabbarItemClick\">\r\n\t\t\t\t<u-image width=\"30px\" height=\"30px\" :src=\"userProfilePhoto\" mode=\"aspectFill\" shape=\"circle\"></u-image>\r\n\t\t\t</view>\r\n\t\t\t<view>{{uerInfo.userNickname}}</view>\r\n\t\t\t<view style=\"font-size: 13px;margin:0 10px;display: flex;\">\r\n\t\t\t\t<view style=\"margin-right: 10px;\">{{ weather.title || '' }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"content-main\">\r\n\t\t\t<view class=\"content-main-heard\">\r\n\t\t\t\t<view class=\"content-main-heard-title\"> 图片编辑 </view>\r\n\t\t\t\t<view class=\"content-main-heard-top\">\r\n\t\t\t\t\t<view class=\"content-main-heard-left\" @click=\"pageJump('ph/jigsawPuzzle/jigsawPuzzle')\">\r\n\t\t\t\t\t\t拼图\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content-main-heard-right\" @click=\"pageJump('ph/addWatermark/addWatermark')\">\r\n\t\t\t\t\t\t添加水印\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"content-main-customize\" @click=\"pageJump('ph/customize/customize')\">\r\n\t\t\t\t\t自定义修改\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t<!-- \t<view class=\"content-main-center\">\r\n\t\t\t</view> -->\r\n\t\t<view class=\"content-main-title\"> 一些其他的功能 </view>\r\n\t\t\t<view\r\n\t\t\t\tv-for=\"item of sizeType\"\r\n\t\t\t\t:key=\"item.name\"\r\n\t\t\t\tclass=\"content-sizeType\"\r\n\t\t\t\t@click=\"pageJump(item.router)\"\r\n\t\t\t  >\r\n\t\t\t\t<view> {{ item.name }}</view>\r\n\t\t\t\t<view class=\"content-sizeType-tips\"> {{ item.tips }}</view>\r\n\t\t\t  </view>\r\n\t\t</view>\r\n\t\t<tabbar></tabbar>\r\n\t</view>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\theight: 100vh;\r\n\t\tflex-wrap: nowrap;\r\n\t\t// background: #e8e8e8;\r\n\t\tbackground: linear-gradient(to bottom, #82b9ff, #ddeafb, #dfe8f3);\r\n\r\n\t\t.content-heard {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 60px;\r\n\t\t\t// background: linear-gradient(to bottom, #93c3ff, #98bcea);\r\n\t\t\tpadding-top: 40px;\r\n\r\n\t\t\tfont-size: 20px;\r\n\t\t\tfont-weight: 600;\r\n\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\talign-items: center;\r\n\t\t\tflex-direction: row;\r\n\t\t\t.content-heard-profile {\r\n\t\t\t\t width: 30px;\r\n\t\t\t\t height: 30px;\r\n\t\t\t\t margin:0 10px;\r\n\t\t\t\t border-radius: 50%;\r\n\t\t\t\t background: #aaffc5;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.content-main {\r\n\t\t\twidth: calc(100% - 20px);\r\n\t\t\theight: 100%;\r\n\t\t\tpadding: 10px;\r\n\t\t\t// border-radius: 6px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\toverflow: auto;\r\n\r\n\t\t\t// background: linear-gradient(to bottom, #98bcea, #efefef);\r\n\t\t\t// background: #faf6c8;\r\n\t\t\t.content-main-heard {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tmargin-bottom: 10px;\r\n\r\n\t\t\t\t.content-main-heard-title {\r\n\t\t\t\t\tfont-size: 18px;\r\n\t\t\t\t\tpadding: 10px;\r\n\t\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\t\ttext-align: 10px;\r\n\t\t\t\t\tline-height: 10px;\r\n\t\t\t\t\tborder-left: 4px solid #487AFA\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.content-main-heard-top {\r\n\t\t\t\t\theight: 100px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.content-main-heard-left {\r\n\t\t\t\t\t\twidth: calc(50% - 2.5px);\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 10px;\r\n\t\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.content-main-heard-right {\r\n\t\t\t\t\t\twidth: calc(50% - 2.5px);\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 10px;\r\n\t\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.content-main-customize {\r\n\t\t\t\t\tmargin-top: 10px;\r\n\t\t\t\t\tpadding: 10px;\r\n\t\t\t\t\theight: 40px;\r\n\t\t\t\t\tborder-radius: 6px;\r\n\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.content-main-center {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tborder-radius: 6px;\r\n\t\t\t\tbackground: #ffffff;\r\n\t\t\t\tmargin-top: 10px;\r\n\t\t\t}\r\n\t\t\t.content-main-title {\r\n\t\t\t\tfont-size: 18px;\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t\t// margin-bottom: 10px;\r\n\t\t\t\ttext-align: 10px;\r\n\t\t\t\tline-height: 10px;\r\n\t\t\t\tborder-left: 4px solid #487AFA;\r\n\t\t\t}\r\n\t\t\t.content-sizeType {\r\n\t\t\t\tborder-radius: 10px;\r\n\t\t\t\twidth: calc(100% - 40px);\r\n\t\t\t\theight: 60px;\r\n\t\t\t\tmargin-top: 10px ;\r\n\t\t\t\tbackground: #ffffff;\r\n\t\t\t\tpadding: 10px 20px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t.content-sizeType-tips {\r\n\t\t\t\t\tcolor: #949292;\r\n\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import MiniProgramPage from '/Users/pq/code/ph/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onPullDownRefresh","onLoad"],"mappings":";;;;;;;;;;;;;AAkBA,MAAA,SAAA;;;;AAjBAA,kBAAAA,IAAA,CAAA;AAmBAA,kBAAAA,IAAA,EAAA;AACA,UAAA,UAAAA,cAAAA,IAAA;AAAA,MACA,OAAA;AAAA,MACA,MAAA;AAAA,IACA,CAAA;AAEA,UAAA,UAAAA,cAAAA,IAAA;AAAA,MACA,cAAA;AAAA,IACA,CAAA;AACA,UAAA,mBAAAA,kBAAA,EAAA;AACAA,sBAAA;AAEAA,kBAAAA,IAAA,UAAA;AACAA,kBAAAA,IAAA,QAAA;AACAA,kBAAAA,IAAA,YAAA;AAEAA,kBAAAA,IAAA,CAAA,CAAA;AAEA,QAAA,WAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA;AAGA,UAAA,aAAA,MAAA;AACA,UAAA,WAAA;AAAA,QACA,KAAA;AAAA,QACA,MAAA;AAAA,QACA,MAAA;AAAA,MACA;AACA,UAAA,CAAAC,cAAA,MAAA,eAAA,SAAA,GAAA;AACAA,sBAAAA,MAAA,QAAA;AAAA,UACA,KAAA,qEAAA,MAAA;AAAA,UACA,QAAA;AAAA,UACA,SAAA,CAAA,QAAA;AACA,gBAAA,IAAA,KAAA,QAAA,KAAA;AACA,oBAAA,EAAA,IAAA,IAAA,IAAA;AACA,sBAAA,QAAA;AAAA,gBACA,OAAA,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,OAAA;AAAA,gBACA,MAAA,SAAA,IAAA,GAAA;AAAA,cACA;AACAA,4BAAAA,MAAA,eAAA,WAAA,GAAA;AACAA,4BAAA,MAAA,MAAA,OAAA,6BAAA,QAAA,QAAA,KAAA;AAAA,YACA;AAAA,UAEA;AAAA,UACA,MAAA,MAAA;AAAA,UAEA;AAAA,UACA,UAAA,MAAA;AAAA,UAAA;AAAA,QACA,CAAA;AAAA,MACA,OAAA;AACA,YAAA,MAAAA,cAAAA,MAAA,eAAA,SAAA;AACA,cAAA,EAAA,QAAA,IAAA;AACA,gBAAA,QAAA;AAAA,UACA,OAAA,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,OAAA;AAAA,UACA,MAAA,SAAA,IAAA,GAAA;AAAA,QACA;AAAA,MACA;AAAA,IACA;AAEA,UAAA,OAAA,MAAA;;AACAA,oBAAAA,MAAA,YAAA;AAAA,QACA,SAAA;AAAA,QACA,SAAA,SAAA,KAAA;AACAA,wBAAA,MAAA,MAAA,OAAA,6BAAA,YAAA,IAAA,QAAA;AAAA,QACA;AAAA,MACA,CAAA;AACA,cAAA,QAAAA,cAAAA,MAAA,eAAA,UAAA;AACA,uBAAA,SAAA,aAAA,UAAA,mBAAA;AAGA;IACA;AAQAC,kBAAAA,kBAAA,MAAA;AACAD,oBAAAA,MAAA,MAAA,OAAA,8BAAA,MAAA;AAAA,IACA,CAAA;AAEAE,kBAAAA,OAAA,MAAA;AACA,WAAA;AAAA,IACA,CAAA;AAqBA,UAAA,WAAA,CAAA,QAAA;AACAF,oBAAAA,MAAA,WAAA;AAAA,QACA;AAAA,MACA,CAAA;AAAA,IACA;AACA,UAAA,wBAAA,MAAA;AACAA,oBAAAA,MAAA,UAAA;AAAA,QACA,KAAA;AAAA,MACA,CAAA;AAAA,IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9IA,GAAG,WAAW,eAAe;"}