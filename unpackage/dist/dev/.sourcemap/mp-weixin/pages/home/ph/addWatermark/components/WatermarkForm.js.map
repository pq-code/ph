{"version":3,"file":"WatermarkForm.js","sources":["pages/home/ph/addWatermark/components/WatermarkForm.vue","/Users/pq/code/ph/pages/home/ph/addWatermark/components/WatermarkForm.vue?type=component"],"sourcesContent":["<template>\n  <view class=\"watermark-form\">\n    <u-form \n      ref=\"form1\"\n      labelWidth=\"100\" \n      labelPosition=\"left\" \n      labelAlign=\"left\"  \n      :model=\"modelValue\" \n      :disabled=\"disabled\"\n    >\n\n      <u-form-item \n        v-for=\"field in fields\" \n        :key=\"field.field\"\n        :label=\"field.label\"\n        :required=\"field.required\"\n        \n      >\n        <!-- 输入框 -->\n        <template v-if=\"field.type === 'input'\">\n          <u-input \n            v-model=\"modelValue[field.field]\"\n            :placeholder=\"field.placeholder\"\n            @input=\"onInputChange\"\n          />\n        </template>\n        \n        <!-- 时间选择器 -->\n        <template v-else-if=\"field.type === 'datetime'\">\n          <u-datetime-picker\n            v-model=\"modelValue[field.field]\"\n            :placeholder=\"field.placeholder\"\n            @change=\"onInputChange\"\n          />\n        </template>\n        \n        <!-- 文本域 -->\n        <template v-else-if=\"field.type === 'textarea'\">\n          <u-textarea\n            v-model=\"modelValue[field.field]\"\n            :placeholder=\"field.placeholder\"\n            :maxlength=\"field.maxlength\"\n            @input=\"onInputChange\"\n          />\n        </template>\n      </u-form-item>\n    </u-form>\n  </view>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue';\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  fields: {\n    type: Array,\n    default: () => []\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  }\n})\n\n\nconst emit = defineEmits(['dataChanged']);\n\nconst onInputChange = () => {\n  console.log('modelValue',props.modelValue)\n  emit('dataChanged', props.modelValue);\n};\n\n// 也可以使用 watch 监听 modelValue 的变化\nwatch(() => props.modelValue, (newValue) => {\n  console.log('modelValue----',props.modelValue)\n  emit('dataChanged', newValue);\n  \n}, { deep: true });\n\n</script>\n\n<style lang=\"less\" scoped>\n.watermark-form {\n  background: #ffffff;\n  border-radius: 8px;\n  padding: 15px;\n}\n</style> \n","import Component from '/Users/pq/code/ph/pages/home/ph/addWatermark/components/WatermarkForm.vue'\nwx.createComponent(Component)"],"names":["uni","watch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,UAAM,QAAQ;AAgBd,UAAM,OAAO;AAEb,UAAM,gBAAgB,MAAM;AAC1BA,oBAAA,MAAA,MAAA,OAAA,iEAAY,cAAa,MAAM,UAAU;AACzC,WAAK,eAAe,MAAM,UAAU;AAAA,IACtC;AAGAC,kBAAK,MAAC,MAAM,MAAM,YAAY,CAAC,aAAa;AAC1CD,oBAAA,MAAA,MAAA,OAAA,iEAAY,kBAAiB,MAAM,UAAU;AAC7C,WAAK,eAAe,QAAQ;AAAA,IAE9B,GAAG,EAAE,MAAM,KAAI,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EjB,GAAG,gBAAgB,SAAS;"}